<!DOCTYPE html>
<html>
  <head>
  <title>DOM PROYECTS</title>
  </head>

  <body>
    <p> YouTube Subscribe Button</p>
    <button onclick="
    changeSuscriptionStatus()" 
    class="js-subscription-button">
    Subscribe
    </button> 

    <p>Rock Paper Scissors</p>

    <button>Click here</button>

    <p>Amazon Shipping Calculator</p>

    <p class="js-shipping-cost-msg"></p>
    <p class="js-free-shipping-msg"></p>
    <!-- onkeydown= Ejecuta el c贸digo JS indicado, cada vez que se presiona una tecla cualquiera. 
    Tambi茅n podemos especificar si queremos que una tecla en particular realice una determinada acci贸n; -->   
    <p>
      <input placeholder="Cost of order" 
      class="js-cost-input" onkeydown="
       // console.log('Tipeando');
       handleCostKeydown(event); // event es un objeto provisto por Java 
      ">  
      <!--El elemento <input> genera un cuadro de texto. Usamos la clase placeholder, para mostrar el texto que por defecto se ver谩 en el cuadro, antes de que el usuario escriba algo. .-->
      <button onclick="
      calculateTotal()
      ">Calculate</button>
      </p>
      <p class="js-total-cost"></p>

  

    <script>
      function handleCostKeydown(event) {
        if(event.key ==='Enter') {
        calculateTotal();
        }
      }

      const shippingCost = 10;
      const minFreeShipping = 40;

      const subscribeText = 'Subscribe';
      const subscribedText = 'Subscribed';


      function calculateTotal() {
        const inputElement = document.querySelector('.js-cost-input');
      
        let cost = Number(inputElement.value); // Necesitamos el valor que est谩 dentro del cuadro de texto. En este caso no se hace con inner.HTML, sino con otra propiedad: .value, porque no hay html dentro de los input elements. ACLARAR BIEN ESTO. Calculo que es porque el usuario ingresa un string. POR OTRA PARTE, USAMOS la funci贸n propia de JS, Number(), para convertir en un n煤mero al string ingresado en el cuadro de texto.
    
        if (cost < minFreeShipping) {
          cost += shippingCost;
        }

        document.querySelector('.js-total-cost').innerHTML = `Total cost $${cost}`;

      }
    

      document.querySelector('.js-shipping-cost-msg').innerHTML = 
      `Orders under ${minFreeShipping} = + ${shippingCost} shipping.`;
      
      document.querySelector('.js-free-shipping-msg').innerHTML = 
      `Orders over ${minFreeShipping} = FREE shipping.`;

//innerText se usa para la comparaci贸n pirque ignora los espacios. 
      function changeSuscriptionStatus() {
        const suscriptionButton = document.querySelector('.js-subscription-button');

        if(suscriptionButton.innerText === subscribeText) {
          suscriptionButton.innerHTML= subscribedText;
        } else {
          suscriptionButton.innerHTML = subscribeText;
          alert('hola');
        }
      }

      
  
    </script>
  </body>
</html>